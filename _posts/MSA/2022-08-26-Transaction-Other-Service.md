---
layout: post
title: Transaction-Other-Service
categories:
  - MSA
tags:
- MSA
- Transaction
date: 2022-08-26
toc: true
comment: true


---

MSA ν™κ²½μ—μ„ λ‹¤λ¥Έ μ„λΉ„μ¤κ°„μ ν†µμ‹ 
{: .message}

## μ„¤λ…

MSA ν™κ²½μ—μ„λ” κ° μ„λΉ„μ¤μ— Connection λμ–΄ μλ” DB λ„ λ‹¤λ¥΄λ‹¤.

μ„λΉ„μ¤κ°„μ λ°μ΄ν„° κ²°ν•©μ΄ μ™„μ „μ΄ λκΈ΄ μƒνƒ

ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ„ μ²λ¦¬ν•κΈ° μ„ν•΄μ„, λ‹¤λ¥Έ μ„λΉ„μ¤μ λ°μ΄ν„° μ΅°νλ‚ μ²λ¦¬ λν• ν•„μ”ν•  μ μλ‹¤.

- **λ°λ“μ‹ μ²λ¦¬λμ–΄μ•Ό ν•  κ²½μ°**
  1. μΌλ°μ μΈ API νΈμ¶μ„ ν†µν•΄ μ΅°ν, μ²λ¦¬ μ”μ²­ν•λ‹¤.
  2. API G/W λ“±μ layer λ¥Ό ν†µν•  μ μμΌλ―€λ΅ μ„±λ¥ μ €ν• λ“±μ λ¬Έμ κ°€ λ°μƒ κ°€λ¥ν•λ‹¤.
  3. νΉμ • μ»¨ν…μ΄λ„ λ“±μ„ **Service Mesh** λΌλ” G/W μ„±κ²©μ ν”λ«νΌμ„ ν†µν•΄ λ³΄μ™„κ°€λ¥ν•΄λ³΄μΈλ‹¤. [Istio(Service Mesh)](https://www.redhat.com/ko/topics/microservices/what-is-istio)


- **μ¦‰μ‹ μ²λ¦¬κΉμ§€λ” ν•„μ”μ—†λ” κ²½μ°**
  1. μ£Όλ΅ λ‹¤λ¥Έ μ„λΉ„μ¤μ λ°μ΄ν„°λ¥Ό μ°Έμ΅°ν•  λ• μ‚¬μ©
  2. λ°μ΄ν„° λ³€κ²½μ‹μ μ Event μ •λ³΄λ¥Ό μ‚¬μ „μ— μ μ¬
  3. ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ— **_2._**μ λ°μ΄ν„°λ¥Ό μ°Έμ΅°ν•΄ ν•΄κ²°



## Sequence Diagram

![Transaction-Other-Service](/assets/img/Access to Other Boundary Context.png)

## μ£Όμ

λ‘ κ°€μ§€ λ°©λ²•μ€ Trade-Off κ°€ μλ‹¤... λΉ„μ¦λ‹μ¤λ‚ μ”μ²­μ— λ”°λΌ κµ¬ν„ν•  ν•„μ”κ°€ μμ–΄λ³΄μΈλ‹¤.

### λ°λ“μ‹ μ²λ¦¬λμ–΄μ•Ό ν•  κ²½μ°

* μ¥μ πƒ
  * μ„λΉ„μ¤κ°„μ λ°μ΄ν„° μ •ν•©μ„±μ΄ λ³΄μ¥λ  μ μλ‹¤
* λ‹¨μ π§
  * MSA μ„μ— λ¶κµ¬ν•κ³ , μ„λΉ„μ¤κ°„μ μμ΅΄μ„±μ΄ λ°μƒν•  μ μλ‹¤ (λ¬Όλ΅  λΉ„μ¦λ‹μ¤ μ²λ¦¬ μμ¤€μ—μ„)
  * λ§μ°¬κ°€μ§€λ΅ Time out, μ¥μ• μ „ν λ“±μ μ΄μκ°€ λ°μƒκ°€λ¥ν•λ‹¤!

---

### μ¦‰μ‹ μ²λ¦¬κΉμ§€λ” ν•„μ”μ—†λ” κ²½μ°

* μ¥μ πƒ
  * ν΄λΌμ΄μ–ΈνΈμ μ”μ²­μ„ μ„λΉ„μ¤ λ‹¨λ…μΌλ΅ μ²λ¦¬κ°€λ¥ν•λ‹¤!
  * μ†λ„λ„ λ‹Ήμ—°ν λΉ λ¥Όκ²ƒμ΄μ—¬..

* λ‹¨μ π§
  * κ°λ°μ΄ λ„λ¬΄ μ–΄λ µλ‹¤..(μ–΄λ µλ‹¤κΈ°λ³΄λ‹¤ κ·€μ°®μ€ λ¶€λ¶„μ΄ λ§μ•„μ§„λ‹¤.)
  * λ°μ΄ν„° λ³µμ μ— λ”°λ¥Έ μ¤ν† λ¦¬μ§€ λΉ„μ©μ΄ μλ°λλ‹¤
  * Data Sync μ²λ¦¬μ™€, ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ μ‹μ μ— λ”°λΌ λ‹¤λ¥Έ κ²°κ³Όκ°’μ΄ λ‚μ¬ μ μλ‹¤

---

π¤¨ λ‹¨μν μƒκ°ν•΄λ³΄λ©΄

λ°μ΄ν„° λ³€κ²½μ΄ μμ£Ό μ—†λ” κ²½μ°  β†’ **"μ¦‰μ‹ μ²λ¦¬κΉμ§€λ” ν•„μ”μ—†λ” κ²½μ°"**

μ•„λ‹λΌλ©΄ β†’ **"λ°λ“μ‹ μ²λ¦¬λμ–΄μ•Ό ν•λ” κ²½μ°"**λ΅ μ‹¤μ‹κ°„μΌλ΅ μ²λ¦¬ν•΄λ„ λμ§€ μ•μ„κΉ??..

μ„λΉ„μ¤λ¥Ό λ…λ¦½μ μΈ λΉ„μ¦λ‹μ¤ μ΄μμ΄ κ°€λ¥ν•κ²λ” λ¶„λ¦¬κ°€ λ¶κ°€λ¥ν•λ‹¤λ©΄, μ„μ μΌ€μ΄μ¤λ¥Ό μ μ ν•κ² μ„μ–΄μ„ μ²λ¦¬ν•  μ λ°–μ— μ—†μ–΄ λ³΄μΈλ‹¤...

 _μΌλ‹¨ ν•΄λ³΄λ©΄μ„, λ§μ΄ μ“°μ΄λ” λ°μ΄ν„°λΌλ©΄ κ°€μ Έμ™€μ„ λ³΄κ΄€ν•λ„λ΅ ν•΄λ³΄μ..~~λ¬΄μ±…μ„ν•΄λ„ μ–΄μ©” μ μ—†λ‹¤~~_